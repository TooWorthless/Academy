<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Timeline Visits</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: #f9f9f9;
    }

    .timeline {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 800px;
      height: 40px;
      background: #e0f7e9;
      border-radius: 20px;
      box-sizing: border-box;
      overflow: hidden;
      /* gap: 0; Заборонено grid-gap */
    }

    .bubble {
      height: 24px;
      min-width: 24px;
      background: #2ecc71;
      border-radius: 50%;
      flex-shrink: 0;
      box-sizing: border-box;
    }

    .spacer {
      flex-shrink: 0;
      background: transparent;
    }
  </style>
</head>
<body>
  <div class="timeline" id="timeline"></div>

  <script>
    const data = [
      { from: "2023-05-30T05:56:28+00:00", to: "2023-05-30T05:57:10+00:00" },
      { from: "2023-05-30T06:01:01+00:00", to: "2023-05-30T06:49:31+00:00" },
      { from: "2023-05-30T07:04:21+00:00", to: "2023-05-30T07:05:26+00:00" },
      { from: "2023-05-30T08:27:42+00:00", to: "2023-05-30T08:28:52+00:00" },
      { from: "2023-05-30T08:29:43+00:00", to: "2023-05-30T08:31:28+00:00" },
      { from: "2023-05-30T10:19:15+00:00", to: "2023-05-30T10:21:02+00:00" },
      { from: "2023-05-30T16:50:26+00:00", to: "2023-05-30T16:50:49+00:00" },
      { from: "2023-05-30T17:03:12+00:00", to: "2023-05-30T17:04:24+00:00" },
      { from: "2023-05-30T17:05:11+00:00", to: "2023-05-30T17:05:55+00:00" },
      { from: "2023-05-30T19:29:46+00:00", to: "2023-05-30T19:31:04+00:00" },
      { from: "2023-05-30T20:43:28+00:00", to: "2023-05-30T20:43:31+00:00" }
    ];

    const timeline = document.getElementById('timeline');

    const startOfDay = new Date("2023-05-30T00:00:00+00:00").getTime();
    const endOfDay = new Date("2023-05-30T23:59:59+00:00").getTime();
    const totalDuration = endOfDay - startOfDay;

   

    data.forEach((entry) => {
      const from = new Date(entry.from).getTime();
      const to = new Date(entry.to).getTime();

      const startPercent = ((from - startOfDay) / totalDuration);
      const endPercent = ((to - startOfDay) / totalDuration);
      const bubbleWidth = Math.max(endPercent - startPercent, 24 / timeline.offsetWidth);

      // spacer
      if (startPercent > lastEndTime + (5 / timeline.offsetWidth)) {
        const spacerWidth = startPercent - lastEndTime;
        const spacerElement = document.createElement('div');
        spacerElement.className = 'spacer';
        spacerElement.style.width = `${spacerWidth * 100}%`;
        timeline.appendChild(spacerElement);
      }

      const bubbleElement = document.createElement('div');
      bubbleElement.className = 'bubble';
      bubbleElement.style.width = `${bubbleWidth * 100}%`;
      timeline.appendChild(bubbleElement);

      lastEndTime = Math.max(lastEndTime, startPercent + bubbleWidth);
    });
  </script>
</body>
</html>